<!DOCTYPE html>
<html>
   <head>
      <title>My Github and AWS EC2 Tutorial</title>
      <!-- Include Bootstrap CDN -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.min.js" integrity="sha512-TU4FJi5o+epsahLtM9OFRvH2gXmmlzGlysk9wtTFgbYbMvFzh3Cw1l3ubnYIvBiZCC/aurRHS408TeEbcuOoyQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- Include jsPDF CDN -->
      <script>
         window.jsPDF = window.jspdf.jsPDF;
         window.html2canvas = html2canvas;
         
         function generatePDF() {
           // remove all images and videos from the page
           const images = document.querySelectorAll('img');
           const videos = document.querySelectorAll('video');
           images.forEach(img => img.remove());
           videos.forEach(video => video.remove());

           // get the HTML content of the page
           const html = document.body.innerHTML;

           // create a new jsPDF instance
           const doc = new jsPDF();

           // convert the HTML content to PDF
           doc.html(html, {
             callback: function () {
               // download the PDF file
               doc.save('tutorial.pdf');
             }
           });
         }
      </script>

   </head>
   <body>
      <div class="container my-5">
         <h1 class="text-center mb-5">My Github and AWS EC2 Tutorial b</h1>
         <div class="row">
            <div class="col-md-6">
               <h2>Getting Started with Github</h2>
               
               <p class="lead">Summary: In this section, we will learn the basics of using Github for version control.</p>
               <ol>
                  <li>
                     Create your account if necessary at <a href="https://github.com">https://github.com</a>
                  </li>
                  <li>
                     Create a new repository at <a href="https://github.com/new">https://github.com/new</a>
                  </li>
                  <li>
                     Once your repository is created, you are directed to the "code" tab within your repository. It can be helpful to take note of the sample git commands provided. See screenshot for an example.
                  </li>
               </ol>
            </div>
            <div class="col-md-6">
               <video src="placeholder.mp4" controls class="mb-3"></video>
            </div>
         </div>
         <div class="row">
            <div class="col-md-6">
               <img src="./NewGithubRepository.jpg" alt="github Image" class="img-fluid mb-3" width="100%">
            </div>
            <div class="col-md-6">
               <img src="./NewRepositoryCommands.jpg" alt="github Image" class="img-fluid mb-3" width="100%">
            </div>
         </div>
         <hr/>
         <div class="row">
            <div class="col-md-6">
               <h2>Local Environment Setup</h2>
               
               
               <p class="lead">Summary: In this section, we will set up our local environment for web development.</p>
               <ol>
                  <li>
                     Open your terminal and create a new directory for your project. Change into the new directory.<br/>
                     <code>mkdir nodeProject<br/>cd nodeProject</code>
                  </li>
                  <li>
                     If you haven't installed node already, do so now. Download here <a href="https://nodejs.org/en">https://nodejs.org/en</a>
                  </li>
                  <li>
                     Make sure you gave git installed locally. On a mac, open your terminal and use the following command:<br/>
                     <code>brew install git</code>
                  </li>
                  <li>
                     If this is your first time using git, you will need to configure your username and email with the following commands:<br/>
                     <code>
                        git config --global user.name "Your Name"<br/>
                        git config --global user.email "your_email@example.com"
                     </code>
                  </li>
                  <li>Generate SSH keys locally and copy your public key to GitHub so you can push and commit your changes to github.<br/>
                     <code>
                        ssh-keygen -t rsa -b 4096 -C "your_email@example.com"<br/>
                        cat ~/.ssh/id_rsa.pub
                     </code><br/>
                     Your public key is now displayed in your terminal. Copy it so it can be pasted into github.
                  </li>
                  <li>
                     Navigate to <a href="https://github.com/settings/ssh/new">https://github.com/settings/ssh/new</a>. Give your key a title and paste the key in the form as shown in the screenshot.
                  </li>
                  <li>
                     Validate your SSH key is set up correctly. From your terminal run the following command:<br/>
                     <code>ssh -T git@github.com</code>
                  </li>
                  <li>
                     Initialize git locally. Create a readme file and push to github to validate everything is working. Open your terminal and run the follwing commands:
                     <code>
                        echo “# demoProject name” >> README.md<br/>
                        git init<br/>
                        git add README.md<br/>
                        git commit -m “first commit”<br/>
                        git branch -M main<br/>
                        git remote add origin git@github.com:{Your github username}/{Your repository name}.git<br/>
                        git push -u origin main
                     </code>
                  </li>
                  <li>
                     Finally, return to github.com and view your repository. Your new readme file and commit comment should be visible.
                  </li>
               </ol>
            </div>
            <div class="col-md-6">
               <img src="GithubSSH.jpg" alt="Placeholder Image" class="img-fluid mb-3" width="100%">
            </div>
         </div>
         <hr/>
         <div class="row">
            <div class="col-md-6">
               <h2>AWS EC2 Environment Setup</h2>
               <p class="lead">Summary: In this section, we will set up our AWS EC2 environment for web development.</p>
               <ol>
                  <li>Create an AWS account.
                     Sign up for an AWS account at <a href="https://portal.aws.amazon.com/billing/signup#/start/email">aws.amazon.com</a>. You will need a credit card.
                  </li>
                  <li>Launch an EC2 instance.
                     Within the console, search for 'EC2' or navigate to the EC2 page here: <a href="https://us-east-1.console.aws.amazon.com/ec2/home">EC2</a>. You must name your instance and click "Create new Key Pair".
                     Accept all other default values and then click "Launch Instance". We won't be using the key pair or get into the various EC2 settings for this tutorial.
                  </li>
                  <li>
                     In a production setting we would set up billing notifications and configure our security group such that we can manage costs and prevent unauthorized access to our EC2 instance. This is out of scope for this tutorial, so we will modify the default security group to accept inbound connections from anywhere for demonstration purposes.<br/>
                     Drill into the new EC2 instance. From the "Security" tab, locate the section titled "Inbound Rules". Click the link shown under the "Security Groups" column as shown in the screenshot.<br/>
                     Click "Edit Inbound Rules". Change the existing rule type to say "All traffic". Change the source to say "Anywhere IPv4". Again, in a production environment, we would make this more restrictive. See screenshot for what the open inbound rule should look like.
                     
                  </li>
                  <li>Connect to the EC2 instance. Drill into the EC2 instance and click "Connect" as shown in the screenshot. This will open up a terminal within your EC2 instance where we will repeat the steps of installing git and nodejs.</li>
                  <!--li>Create a project folder and then change into it.<br/>
                     <code>mkdir nodeProject<br/>cd nodeProject</code>
                  </li-->
                  <li>Install nodejs. As there is no web browser on this instance, we will install nodejs from the command line. Enter the following command:<br/>
                     <code>sudo yum install nodejs</code>
                  </li>
                  <li>Install git. Use the following command.<br/>
                     <code>sudo yum install git</code>
                  </li>
                  <li>
                     Configure git the same way you did locally.<br/>
                     <code>
                        git config --global user.name "Your Name"<br/>
                        git config --global user.email "your_email@example.com"
                     </code>
                  </li>
                  <li>
                     Create SSH keys, the same way you did locally. Alternatively you can use your existing key which involves using scp to copy your private key to your EC2 instance.
                     That is out of scope for this tutorial, so we will just create another key pair.<br/>
                     <code>
                        ssh-keygen -t rsa -b 4096 -C "your_email@example.com"<br/>
                        cat ~/.ssh/id_rsa.pub
                     </code><br/>
                     Your public key is now displayed in your terminal. Return to github.com and add your new SSH key the same way as before.
                  </li>
                  <li>
                     Validate your connection with the following command.<br/>
                     <code>ssh -T git@github.com</code>
                  </li>
                  <li>
                     Return to your repository on github.com. Click the green "Code" button. Copy the code under SSH as shown in the screenshot.<br/>
                     It should be in the format of git@github.com:{github username}/{github repository name}.git
                  </li>
                  <li>
                     From your EC2 terminal enter the following command, using the SSH code from the prior step.<br/>
                     <code>
                        git clone git@github.com:{github username}/{github repository name}.git
                     </code>
                  </li>
                  <li>
                     Validate that the repository has been saved on your EC2 instance.<br/>
                     <code>
                        ls -al<br/>
                        cd demoProject<br/>
                        ls -al<br/>
                     </code><br/>
                     You should see a copy of the readme file you made on your local computer.
                  </li>
               </ol>
            </div>
            <div class="col-md-6">
               <img src="AWSSecurityGroup.jpg" alt="Placeholder Image" class="img-fluid mb-3" width="100%">
               <img src="AWSOpenRule.jpg" alt="Placeholder Image" class="img-fluid mb-3" width="100%">
            </div>
         </div>
         <hr/>
         <div class="row">
            <div class="col-md-6">
               <h2>Create Local
                  Project
               </h2>
               <p class="lead">Summary: In this section, we will create a new project on our local machine.</p>
               <ol>
                  <li>Within the project folder you created on your local machine, open a text editor and create the file server.js. Use the following sample code.<br/>
                     <code>
                        const http = require('http');<br/>
                        const hostname = '0.0.0.0';<br/>
                        const port = 3000;<br/>
                        const server = http.createServer((req, res) => {<br/>
                        &emsp;res.statusCode = 200;<br/>
                        &emsp;res.setHeader('Content-Type', 'text/plain');<br/>
                        &emsp;res.end('Hello, World! I've learned how to set up a dev environment using github and EC2!\n');<br/>
                        });<br/>

                        server.listen(port, hostname, () => {<br/>
                        &emsp;console.log(`Server running at http://${hostname}:${port}/`);<br/>
                        });<br/>
                     </code>
                  </li>
                  <li>
                     Check the git status with the following code:<br/>
                     <code>git status</code><br/>
                     You will see your new file listed by git as untracked.
                  </li>
                  <li>Add your new file to git with the following command:<br/>
                     <code>git add .</code><br/>(including the 'dot' to add all files in this directory);
                  </li>
                  <li>Commit the file with the following command:<br/>
                     <code>git commit -m "adding new file server.js"</code>
                  </li>
                  <li>Push to github with the command:<br/>
                     <code>git push</code>
                  </li>
               </ol>
            </div>
            <div class="col-md-6">
               <img src="placeholder.jpg" alt="Placeholder Image" class="img-fluid mb-3">
            </div>
         </div>
         <br/>
         <div class="row">
            <div class="col-md-6 offset-md-3">
               <h2>Go Live on EC2</h2>
               <img src="placeholder.jpg" alt="Placeholder Image" class="img-fluid mb-3">
               <video src="placeholder.mp4" controls class="mb-3"></video>
               <p class="lead">Summary: In this section, we will deploy our project to the AWS EC2 instance.</p>
               <ol>
                  <li>Connect to the EC2 instance via SSH.</li>
                  <li>Clone your Github repository.</li>
                  <li>Copy your project files to the EC2 instance.</li>
                  <li>Install any necessary dependencies on the EC2 instance.</li>
                  <li>Start your Node.js server on the EC2 instance.</li>
               </ol>
            </div>
         </div>
         <div class="row">
            <div class="col-md-6 offset-md-3">
               <button onclick="generatePDF()" class="btn btn-primary btn-lg">Download PDF</button>
            </div>
         </div>
      </div>

      
   </body>
</html>
